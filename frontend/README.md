# Defects App Frontend

Фронтенд приложения для управления дефектами, построенный на Vue 3 + Vite + Pinia + Vue Router + Axios.

## Технологии

- **Vue 3** - Composition API
- **Vite** - сборщик и dev-сервер
- **Pinia** - управление состоянием
- **Vue Router** - маршрутизация
- **Axios** - HTTP-клиент
- **Чистый CSS** - стилизация без UI-библиотек

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Настройте переменные окружения:
```bash
cp env.example .env
```

Отредактируйте `.env` файл при необходимости:
```
VITE_API_BASE=http://localhost:8080
```

3. Запустите dev-сервер:
```bash
npm run dev
```

Приложение будет доступно по адресу: http://localhost:5173

## Сборка для продакшена

```bash
npm run build
```

Собранные файлы будут в папке `dist/`

## Предварительный просмотр сборки

```bash
npm run preview
```

## Структура проекта

```
src/
├── main.js              # Точка входа
├── App.vue              # Корневой компонент
├── style.css            # Глобальные стили
├── api/
│   ├── http.js          # Axios конфигурация
│   └── index.js         # API функции
├── components/
│   ├── AppHeader.vue    # Шапка приложения
│   └── ProjectSelect.vue # Селект проектов
├── pages/
│   ├── Login.vue        # Страница входа
│   ├── Register.vue     # Страница регистрации
│   ├── Dashboard.vue    # Страница проектов
│   ├── Defects.vue      # Страница дефектов
│   └── DefectDetail.vue # Детали дефекта
├── router/
│   └── index.js         # Конфигурация роутера
└── stores/
    └── auth.js          # Pinia store для авторизации
```

## Функциональность

### Авторизация
- Регистрация пользователей с выбором роли
- Вход в систему
- Автоматическое сохранение токена в localStorage
- Защита приватных маршрутов

### Проекты
- Просмотр списка проектов
- Создание новых проектов
- Переход к дефектам проекта

### Дефекты
- Просмотр списка дефектов с фильтрацией
- Фильтры по проекту, статусу, приоритету, дате, поиску
- Создание новых дефектов
- Детальная страница дефекта

### Детали дефекта
- Просмотр информации о дефекте
- Смена статуса дефекта
- Добавление комментариев
- Загрузка файлов-вложений
- Скачивание отчета в CSV формате

## API интеграция

Приложение интегрировано с Go API и поддерживает все эндпоинты:

- `POST /auth/register` - регистрация
- `POST /auth/login` - вход
- `GET /api/me` - проверка токена
- `GET /api/projects` - список проектов
- `POST /api/projects` - создание проекта
- `GET /api/defects` - список дефектов
- `POST /api/defects` - создание дефекта
- `GET /api/defects/:id/comments` - комментарии дефекта
- `POST /api/defects/:id/comments` - добавление комментария
- `POST /api/defects/:id/attachments` - загрузка файла
- `PATCH /api/defects/:id/status` - смена статуса
- `GET /api/refs/statuses` - справочник статусов
- `GET /api/refs/roles` - справочник ролей
- `GET /api/reports/summary.csv` - скачивание отчета

## Стилизация

Используется чистый CSS с современными возможностями:
- Flexbox и Grid для раскладки
- CSS переменные для цветов
- Адаптивный дизайн
- Стили для форм, таблиц, карточек
- Статусные бейджи и приоритеты
